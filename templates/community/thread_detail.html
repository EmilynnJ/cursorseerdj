{% extends 'base.html' %}
{% block title %}{{ thread.title }} - SoulSeer{% endblock %}
{% block content %}
<div class="max-w-4xl mx-auto px-4 py-16">
  <a href="{% url 'community_forum' %}" class="text-soulseer-pink/80 hover:text-soulseer-pink">← Community</a>
  <h1 class="font-heading text-5xl text-soulseer-pink mb-8 mt-4">{{ thread.title }}</h1>
  <div class="space-y-6">
    {% for p in thread.posts.all %}
    <div class="p-6 rounded border border-soulseer-pink/30 bg-soulseer-darker/50">
      <p class="text-sm text-white/60">{{ p.author.get_full_name|default:p.author.username }} · {{ p.created_at|date:"M d, Y H:i" }}</p>
      <p class="font-body text-white/90 mt-2 whitespace-pre-wrap">{{ p.body }}</p>
    </div>
    {% endfor %}
  </div>
  {% if user.is_authenticated %}
  <form method="post" action="{% url 'thread_reply' thread.pk %}" class="mt-8">
    {% csrf_token %}
    <textarea name="body" rows="4" class="w-full bg-soulseer-darker border border-soulseer-pink/50 rounded px-4 py-2 text-white" placeholder="Reply..."></textarea>
    <button type="submit" class="mt-2 px-4 py-2 rounded bg-soulseer-pink/20 text-soulseer-pink border border-soulseer-pink hover:bg-soulseer-pink/30 transition">Reply</button>
  </form>
  {% endif %}
</div>
{% endblock %}
